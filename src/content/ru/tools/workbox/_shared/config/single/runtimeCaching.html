
<tr id="{{ anchor_prefix }}runtimeCaching">
    <td>
      <p>runtimeCaching</p>
    </td>
    <td>
      <p>
        <em>Необязательный <code>Array</code> <code>Object</code> , по умолчанию <code>[]</code></em>
      </p>
      <p>Передача массива объектов, содержащих <code>urlPatterns</code>, <code>handlers</code> и, возможно, <code>options</code>, добавит соответствующий код к сгенерированному работнику службы для обработки кэширования во время выполнения.</p>
      <p>Запросы для предварительно кэшированных URL-адресов, которые выбираются с помощью <code>globPatterns</code>, обрабатываются по умолчанию и не должны учитываться в <code>runtimeCaching</code>.</p>
      <p>Значения <code>handler</code> - это строки, соответствующие именам стратегий, поддерживаемых <a href="/web/tools/workbox/reference-docs/latest/workbox.strategies#methods"><code>workbox.strategies</code></a> .</p>
      <p>Свойства <code>options</code> можно использовать для настройки экземпляров истечения срока действия кэша, кэшируемого ответа и подключаемых модулей обновления для применения к данному маршруту.</p>
      <p>
        <strong>Пример:</strong>
      </p>
      <pre class="prettyprint">runtimeCaching: [{// Соответствует любому запросу того же источника, который содержит 'api'. urlPattern: / api /, // Применяем стратегию первой сети. обработчик: 'NetworkFirst', параметры: {// Откат к кэшу через 10 секунд. networkTimeoutSeconds: 10, // Использовать произвольное имя кэша для этого маршрута. cacheName: 'my-api-cache', // Настройка срока действия кэша. expiration: {maxEntries: 5, maxAgeSeconds: 60,}, // Настройка фоновой синхронизации. backgroundSync: {name: 'my-queue-name', параметры: {maxRetentionTime: 60 * 60,},}, // Настройка ответов, которые считаются кэшируемыми. cacheableResponse: {statuses: [0, 200], заголовки: {'x-test': 'true'},}, // Настройка модуля обновления рассылки. broadcastUpdate: {channelName: 'my-update-channel',}, // Добавьте любую дополнительную логику плагина, которая вам нужна. плагины: [{cacheDidUpdate: () =&gt; /* custom plugin code */}], // matchOptions и fetchOptions используются для настройки обработчика. fetchOptions: {mode: 'no-cors',}, matchOptions: {ignoreSearch: true,},},}, {// Для сопоставления запросов между источниками используйте RegExp, который соответствует // началу источника: urlPattern : новый RegExp ('^ https: // cors \ .example \ .com /'), обработчик: 'StaleWhileRevalidate', параметры: {cacheableResponse: {statuses: [0, 200]}}}]</pre>
    </td>
  </tr>
